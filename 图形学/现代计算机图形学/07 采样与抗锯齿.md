采样不足导致的瑕疵 Artifacts，称为 Aliasing

- 锯齿 Jaggies 
- 摩尔纹 Moiré Patterns
- 马车轮效应 Wagon wheel effect（人眼采样率不足导致分不清车轮转的方向）



抗锯齿的方法：在采样之前做模糊Blurring（预过滤 Pre-Filtering ）



采样之后过滤 和 过滤之后采样是不一样的：

![image-20200329210718703](img/07 采样与抗锯齿/image-20200329210718703.png)



函数可以表示为不同频率的 $sin$ 和 $cos$ 的加权和

![image-20200329211128621](img/07 采样与抗锯齿/image-20200329211128621.png)

傅里叶变换 Fourier Transform 可以把函数转换到频域，傅里叶逆变换则相反

![image-20200329211145924](img/07 采样与抗锯齿/image-20200329211145924.png)

更高的频率需要更高的采样率

![image-20200329211023541](img/07 采样与抗锯齿/image-20200329211023541.png)



过滤 Filtering 是把部分频率抹去

将图像变换到频域（右图中心区域频率低、往外表示高频区域）

![image-20200329211418781](img/07 采样与抗锯齿/image-20200329211418781.png)



高通滤波 High-pass fliter 过滤掉低频信号，得到轮廓线

![image-20200329211618094](img/07 采样与抗锯齿/image-20200329211618094.png)

低通滤波将图像模糊 blur。



过滤Filtering 、卷积 Convolution 、 平均 Averaging 都是一个意思

在空间域 spatial domain 做卷积等于在频域做乘法



在空间域做卷积 

等效于 1.傅里叶变换到频率域 2. 乘上傅里叶变换之后的卷积核 3. 傅里叶逆变换到空间域

示例图：

![image-20200329212228615](img/07 采样与抗锯齿/image-20200329212228615.png)



**采样其实就是在复制频域的内容**

![image-20200329212329206](img/07 采样与抗锯齿/image-20200329212329206.png)



而锯齿Aliasing 就是采样率不足，导致复制过程中，频域内容发生混叠Mixed Frequency Contents  

![image-20200329212434038](img/07 采样与抗锯齿/image-20200329212434038.png)



减少抗锯齿方法

- 增加采样率：也就是增大频域复制的距离

- 抗锯齿Antialiasing ：使得频率域的内容变窄，也就是在采样之前过滤掉高频信号

  ![image-20200329212851259](img/07 采样与抗锯齿/image-20200329212851259.png)



抗锯齿方法 MSAA 其实就是在做上面的事情



经典的抗锯齿：

- MSAA
- FXAA
- TAA



超分辨率 Super resolution，是一种通过低*分辨率*的图像来得到高分辨率的过程

DLSS (Deep Learning Super Sampling) ，作用是硬件加速的深度学习对实时渲染的图片实现非常高质量的超分辨率。（NVIDIA 最近发布了 DLSS 2.0）













